<?xml version="1.0" encoding="UTF-8"?>

<?import com.bjgoodwill.hip.client.fx.control.form.cell.text.*?>
<?import com.bjgoodwill.hip.client.fx.control.form.cell.choose.customdatasource.*?>
<?import com.bjgoodwill.hip.client.fx.control.form.*?>
<?import javafx.scene.control.*?>
<?import java.lang.*?>
<?import javafx.scene.layout.*?>
<?import com.bjgoodwill.hip.client.fx.control.tree.*?>
<?import com.bjgoodwill.hip.client.fx.control.tree.cell.*?>
<?import com.bjgoodwill.hip.client.fx.control.table.*?>
<?import com.bjgoodwill.hip.client.fx.control.table.cell.*?>
<?import com.bjgoodwill.hip.client.fx.control.button.*?>
<?import javafx.scene.image.*?>
<?import java.util.*?>
<?import com.bjgoodwill.hip.client.app.service.price.util.*?>
<?import com.bjgoodwill.hip.client.fx.control.form.cell.*?>
<?import com.bjgoodwill.hip.client.fx.control.form.cell.choose.ets.*?>
<?import com.bjgoodwill.hip.client.fx.control.form.cell.choose.pop.*?>


<BorderPane prefHeight="768.0" prefWidth="1024.0" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1">
    <left>
        <HipTreeView fx:id="priceItemTreeView" prefWidth="248">
            <hipTreeCell>
                <HipTreeCell propertyName="priceItemName">
                </HipTreeCell>
            </hipTreeCell>
        </HipTreeView>
    </left>
    <center>
        <BorderPane prefHeight="200.0" prefWidth="200.0" BorderPane.alignment="CENTER">
            <top>
                <BorderPane prefHeight="34.0" prefWidth="824.0" BorderPane.alignment="CENTER">
                    <left>
                        <HipFormView fx:id="filterFormView" alignment="CENTER_LEFT" prefHeight="34.0" prefWidth="440.0" BorderPane.alignment="CENTER">
                            <children>
                                <Label alignment="CENTER_RIGHT" prefHeight="24.0" prefWidth="50.0" text="对照源:" />
                                <HipCustomDataSourceFilterableComboBoxFormCell propertyName="sourceType" prefHeight="24.0" prefWidth="120.0" GridPane.columnIndex="1" >
                                    <customDataSourceCallback>
                                        <ContrastTypeCallBack/>
                                    </customDataSourceCallback>
                                </HipCustomDataSourceFilterableComboBoxFormCell>
                                <Label alignment="CENTER_RIGHT" prefHeight="24.0" prefWidth="40.0" text="状态:" GridPane.columnIndex="2" />
                                <HipCustomDataSourceFilterableComboBoxFormCell propertyName="status" prefHeight="24.0" prefWidth="80.0" GridPane.columnIndex="3"  >
                                    <customDataSourceCallback>
                                        <ContrastStatusCallBack/>
                                    </customDataSourceCallback>
                                </HipCustomDataSourceFilterableComboBoxFormCell>
                                <HipTextInputFormCell propertyName="priceItemName" prefHeight="24.0" prefWidth="120.0" promptText="项目名称过滤" GridPane.columnIndex="4" />
                                <HipButton prefHeight="24.0" prefWidth="20.0" text="" tipText="查询" GridPane.columnIndex="5" styleClass="search-button" onAction="#queryContrast">
                                    <graphic>
                                        <ImageView pickOnBounds="true" preserveRatio="true" />
                                    </graphic>
                                </HipButton>
                            </children>
                        </HipFormView>
                    </left>
                    <right>
                        <HBox alignment="CENTER_RIGHT" prefHeight="24.0" prefWidth="440.0" BorderPane.alignment="CENTER">
                            <children>
                                <HipButton mnemonicParsing="false" text="上传未审核" styleClass="commit-button" onAction="#uploadContrast">
                                    <graphic>
                                        <ImageView pickOnBounds="true" preserveRatio="true" />
                                    </graphic>
                                </HipButton>
                                <HipButton mnemonicParsing="false" text="全部上传" styleClass="commit-button" onAction="#uploadAllContrast">
                                    <graphic>
                                        <ImageView pickOnBounds="true" preserveRatio="true" />
                                    </graphic>
                                </HipButton>
                                <HipButton mnemonicParsing="false" text="审核查询" styleClass="read-button" onAction="#queryStatus">
                                    <graphic>
                                        <ImageView pickOnBounds="true" preserveRatio="true" />
                                    </graphic>
                                </HipButton>
                                <HipButton mnemonicParsing="false" text="全部查询" styleClass="read-button" onAction="#queryAllStatus">
                                    <graphic>
                                        <ImageView pickOnBounds="true" preserveRatio="true" />
                                    </graphic>
                                </HipButton>
                                <HipButton mnemonicParsing="false" text="保存" styleClass="save-button" onAction="#saveContrast">
                                    <graphic>
                                        <ImageView pickOnBounds="true" preserveRatio="true" />
                                    </graphic>
                                </HipButton>
                            </children>
                        </HBox>
                    </right>
                </BorderPane>
            </top>
            <center>
                <HipEditTableView fx:id="contrastTableView" prefHeight="200.0" prefWidth="200.0" BorderPane.alignment="CENTER">
                    <hipFormView>
                        <HipFormView>
                            <children>
                                <Label text="" prefWidth="45.0" minWidth="45.0" maxWidth="45.0"/>
                                <HipFormTitleCell propertyName="priceItemName" GridPane.columnIndex="1"/>
                                <HipFormTitleCell propertyName="priceItemCode" GridPane.columnIndex="2"/>
                                <HipFormTitleCell propertyName="unit" GridPane.columnIndex="3"/>
                                <HipFormTitleCell propertyName="price" GridPane.columnIndex="4"/>
                                <HipTableViewChooseFormCell propertyName="contrast.priceItemName" GridPane.columnIndex="5">
                                    <commitPropertyName>
                                        <String fx:value="itemName"/>
                                    </commitPropertyName>
                                    <commitCallback>
                                        <ContrastSourceCommitCallback />
                                    </commitCallback>
                                    <queryCallback>
                                        <ContrastSourceQueryCallBack />
                                    </queryCallback>
                                    <hipTableView>
                                        <HipTableView maxHeight="196" prefWidth="590" maxWidth="590" styleClass="service-item-dialog">
                                            <columns>
                                                <HipTableColumn propertyName="itemCode" prefWidth="130" text="编码" >
                                                    <tableCell>
                                                        <HipTableTextCell />
                                                    </tableCell>
                                                </HipTableColumn>
                                                <HipTableColumn propertyName="itemName" prefWidth="260" text="名称" >
                                                    <tableCell>
                                                        <HipTableTextCell />
                                                    </tableCell>
                                                </HipTableColumn>
                                                <HipTableColumn propertyName="inputCode" prefWidth="175" text="拼音码" >
                                                    <tableCell>
                                                        <HipTableTextCell />
                                                    </tableCell>
                                                </HipTableColumn>
                                            </columns>
                                        </HipTableView>
                                    </hipTableView>
                                </HipTableViewChooseFormCell>
                            </children>
                        </HipFormView>
                    </hipFormView>
                    <columns>
                        <HipTickTableColumn prefWidth="45.0" minWidth="45.0" maxWidth="45.0" text="" >
                            <tableCell>
                                <HipCheckBoxTickTableCell/>
                            </tableCell>
                        </HipTickTableColumn>
                        <HipTableColumn prefWidth="190" text="项目名称" propertyName="priceItemName">
                            <tableCell>
                                <HipTableTextCell />
                            </tableCell>
                        </HipTableColumn>
                        <HipTableColumn prefWidth="100" text="编码" propertyName="priceItemCode">
                            <tableCell>
                                <HipTableTextCell />
                            </tableCell>
                        </HipTableColumn>
                        <!--                        <HipTableColumn prefWidth="50" text="数量" propertyName="status">
                            <tableCell>
                                <HipTableTextCell />
                            </tableCell>
                        </HipTableColumn>-->
                        <HipTableColumn prefWidth="50" text="单位" propertyName="unit">
                            <tableCell>
                                <HipEtsTableCell dictCode="MinUnit"/>
                            </tableCell>
                        </HipTableColumn>
                        <HipTableColumn prefWidth="50" text="价格" propertyName="price">
                            <tableCell>
                                <HipTableTextCell />
                            </tableCell>
                        </HipTableColumn>
                        <HipTableColumn prefWidth="190" text="对照项目" propertyName="contrast.priceItemName">
                            <tableCell>
                                <HipTableTextCell />
                            </tableCell>
                        </HipTableColumn>
                        <HipTableColumn prefWidth="100.0" text="编码" propertyName="contrast.priceItemCode">
                            <tableCell>
                                <HipTableTextCell />
                            </tableCell>
                        </HipTableColumn>
                        <HipTableColumn prefWidth="75.0" text="类别" propertyName="contrast.priceItemType">
                            <tableCell>
                                <HipTableTextCell />
                            </tableCell>
                        </HipTableColumn>
                        <HipTableColumn prefWidth="50.0" text="单位" propertyName="contrast.unit">
                            <tableCell>
                                <HipEtsTableCell dictCode="MinUnit"/>
                            </tableCell>
                        </HipTableColumn>
                        <HipTableColumn prefWidth="50.0" text="价格" propertyName="contrast.price">
                            <tableCell>
                                <HipTableTextCell />
                            </tableCell>
                        </HipTableColumn>
                        <HipTableColumn prefWidth="70.0" text="状态" propertyName="contrast.statusCode">
                            <tableCell>
                                <HipCustomDataSourceTableCell>
                                    <customDataSourceCallback>
                                        <ContrastStatusCallBack/>
                                    </customDataSourceCallback>
                                </HipCustomDataSourceTableCell>
                            </tableCell>
                        </HipTableColumn>
                        <HipTableColumn prefWidth="40.0" text="操作" >
                            <tableCell>
                                <HipTableButtonCell>
                                    <buttonList>
                                        <ArrayList>
                                            <HipButton text="" tipText="删除对照" styleClass="delete-button" onAction="#deleteContrast">
                                                <graphic>
                                                    <ImageView pickOnBounds="true" preserveRatio="true" />
                                                </graphic>
                                            </HipButton>
                                        </ArrayList>
                                    </buttonList>
                                </HipTableButtonCell>
                            </tableCell>
                        </HipTableColumn>
                    </columns>
                </HipEditTableView>
            </center>
        </BorderPane>
    </center>
</BorderPane>
