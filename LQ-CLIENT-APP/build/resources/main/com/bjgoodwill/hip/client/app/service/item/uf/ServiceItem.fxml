<?xml version="1.0" encoding="UTF-8"?>

<?import com.bjgoodwill.hip.client.fx.control.table.*?>
<?import com.bjgoodwill.hip.client.fx.control.form.cell.choose.ets.*?>
<?import com.bjgoodwill.hip.client.fx.control.choose.combobox.*?>
<?import javafx.scene.control.*?>
<?import java.lang.*?>
<?import javafx.scene.layout.*?>
<?import com.bjgoodwill.hip.client.fx.control.tree.*?>
<?import com.bjgoodwill.hip.client.fx.control.tree.cell.*?>
<?import com.bjgoodwill.hip.client.fx.control.table.cell.*?>
<?import com.bjgoodwill.hip.client.fx.control.table.cell.number.*?>
<?import java.util.*?>
<?import com.bjgoodwill.hip.client.fx.control.button.*?>
<?import com.bjgoodwill.hip.client.fx.control.query.*?>
<?import com.bjgoodwill.hip.client.app.service.item.util.*?>
<?import javafx.scene.image.*?>

<?import com.bjgoodwill.hip.client.fx.callback.*?>

<SplitPane dividerPositions="0.25" prefHeight="768.0" prefWidth="1024.0" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1">
    <StackPane maxWidth="500.0" minWidth="150.0" >
        <HipFilterableTreeViewPane>
            <valuesCallback>
                <HipDictElementValuesCallBack/>
            </valuesCallback>
            <hipTreeView>
                <HipTreeView fx:id="serviceItemTree">
                    <hipTreeCell>
                        <HipTreeCell propertyName="elementName" leafImageUrl="/img/tree/folder.png"/>
                    </hipTreeCell>
                </HipTreeView>
            </hipTreeView>
        </HipFilterableTreeViewPane>
    </StackPane>
    <StackPane>
        <children>
            <BorderPane prefHeight="768.0" BorderPane.alignment="CENTER">
                <top>
                    <BorderPane prefHeight="40" styleClass="control-bar-pane">
                        <left>
                            <HBox alignment="CENTER_LEFT" prefWidth="300.0" spacing="10.0" BorderPane.alignment="CENTER">
                                <children>
                                    <!--<Button mnemonicParsing="false" onAction="#doMethode1" text="添加分类" />-->
                                    <HipButton mnemonicParsing="false" text="添加项目" onAction="#createServiceItemCommand" styleClass="add-button" >
                                        <graphic>
                                            <ImageView pickOnBounds="true" preserveRatio="true" />
                                        </graphic>
                                    </HipButton>
                                    <!--<Button mnemonicParsing="false" onAction="#doMethode3" text="编辑分类" />-->
                                </children>
                            </HBox>
                        </left>
                        <right>
                            <HBox alignment="CENTER_RIGHT" prefWidth="495.0" spacing="10.0" BorderPane.alignment="CENTER">
                                <children>
                                    <Label alignment="CENTER_RIGHT" prefWidth="55.0" text="项目过滤" />
                                    <QueryBar>
                                        <queryConsumer>
                                            <FilterServiceItem />
                                        </queryConsumer>
                                    </QueryBar>
                                </children>
                            </HBox>
                        </right>
                    </BorderPane>
                </top>
                <center>
                    <BorderPane fx:id="serviceItemPane">
                        <top>
                            <HipTableView prefHeight="355.0" prefWidth="1024.0">
                                <columns>
                                    <HipTableColumn propertyName="#####" prefWidth="100.0" text="服务分类" >
                                        <tableCell>
                                            <HipEtsTableCell dictCode="#####"/>
                                        </tableCell>
                                    </HipTableColumn>
        
                                    <HipTableColumn propertyName="#####" prefWidth="100.0" text="服务编码" >
                                        <tableCell>
                                            <HipTableCell>
                                            </HipTableCell>
                                        </tableCell>
                                    </HipTableColumn>
                                    <HipTableColumn propertyName="#####" prefWidth="100.0" text="服务项目" >
                                        <tableCell>
                                            <HipTableCell/>
                                        </tableCell>
                                    </HipTableColumn>
                                    <HipTableColumn propertyName="#####" prefWidth="100.0" text="服务项目名称" >
                                        <tableCell>
                                            <HipTableCell/>
                                        </tableCell>
                                    </HipTableColumn>

                                    <HipTableColumn propertyName="#####" text="价格" >
                                        <tableCell>
                                            <HipNumberTableCell numberFormat="##.00"/>
                                        </tableCell>
                                    </HipTableColumn>
                                    <HipTableColumn propertyName="#####" prefWidth="100.0" text="国家编码" >
                                        <tableCell>
                                            <HipTableCell/>
                                        </tableCell>
                                    </HipTableColumn>  
                                    <HipTableColumn propertyName="#####" prefWidth="100.0" text="执行科室" >
                                        <tableCell>
                                            <HipCustomDataSourceTableCell>
                                                <customDataSourceCallback>
                                                </customDataSourceCallback>
                                            </HipCustomDataSourceTableCell>
                                        </tableCell>
                                    </HipTableColumn>
                                    <HipTableColumn propertyName="#####" prefWidth="60.0" text="有效状态" >
                                        <tableCell>
                                            <HipCheckBoxTableCell/>
                                        </tableCell>
                                    </HipTableColumn>
                                </columns>
                            </HipTableView>
                        </top>
                        <right>
                            <BorderPane prefWidth="300">
                                <top>
                                    <BorderPane styleClass="control-bar-pane">
                                        <left>
                                            <Label text="【多执行科室】" prefHeight="48" styleClass="table-title-label"/>
                                        </left>
                                        <right>
                                            <HBox alignment="CENTER_RIGHT">
                                                <HipButton mnemonicParsing="false" text="添加" onAction="#showAddOrgCommand" styleClass="last-button" >
                                                    <graphic>
                                                        <ImageView pickOnBounds="true" preserveRatio="true" />
                                                    </graphic>
                                                </HipButton>
                                            </HBox>
                                        </right>
                                    </BorderPane>
                                </top>
                                <center>
                                    <HipTableView fx:id="serviceItemOrgsTableView">
                                        <columns>
                                            <HipTableColumn propertyName="executeOrgName" prefWidth="195.0" text="科室名称" >
                                                <tableCell>
                                                    <HipTableCell/>
                                                </tableCell>
                                            </HipTableColumn>
                                            <HipTableColumn editable="false" prefWidth="100.0" text="操作">
                                                <tableCell>
                                                    <HipTableButtonCell>
                                                        <buttonList>
                                                            <ArrayList>
                                                                <HipButton text="删除" onAction="#deleteOrgCommand"/>
                                                            </ArrayList>
                                                        </buttonList> 
                                                    </HipTableButtonCell> 
                                                </tableCell>
                                            </HipTableColumn>
                                        </columns>
                                    </HipTableView>
                                </center>
                            </BorderPane>
                        </right>
                        <center>
                            <BorderPane>
                                <top>
                                    <BorderPane styleClass="control-bar-pane">
                                        <left>
                                            <Label text="【价表项目一览表】" prefHeight="48" styleClass="table-title-label"/>
                                        </left>
                                        <right>
                                            <HBox alignment="CENTER_RIGHT">
                                                <HipButton mnemonicParsing="false" text="添加" onAction="#showAddPriceCommand" styleClass="last-button" >
                                                    <graphic>
                                                        <ImageView pickOnBounds="true" preserveRatio="true" />
                                                    </graphic>
                                                </HipButton>
                                            </HBox>
                                        </right>
                                    </BorderPane>
                                </top>
                                <center>
                                    <StackPane styleClass="service-item">
                                        <children>
                                            <HipTableView fx:id="serviceItemPricesTableView">
                                                <columns>
                                                    <HipTableColumn propertyName="priceItemName" prefWidth="180.0" text="名称" >
                                                        <tableCell>
                                                            <HipTableCell />
                                                        </tableCell>
                                                    </HipTableColumn>
                                                    <HipTableColumn propertyName="packageSpec" prefWidth="140" text="规格" >
                                                        <tableCell>
                                                            <HipTableTextCell />
                                                        </tableCell>
                                                    </HipTableColumn>
                                                    <HipTableColumn propertyName="unitPrice" prefWidth="75" text="单价" >
                                                        <tableCell>
                                                            <HipNumberTableCell numberFormat="0.00"/>
                                                        </tableCell>
                                                    </HipTableColumn>
                                                    <HipTableColumn propertyName="quantity" prefWidth="75" text="数量" >
                                                        <tableCell>
                                                            <HipNumberTableCell numberFormat="####"/>
                                                        </tableCell>
                                                    </HipTableColumn>
                                                    <HipTableColumn propertyName="unit" prefWidth="75" text="单位" >
                                                        <tableCell>
                                                            <HipEtsTableCell dictCode="Measures"/>
                                                        </tableCell>
                                                    </HipTableColumn>
                                                    <HipTableColumn propertyName="price" prefWidth="100" text="总金额" >
                                                        <tableCell>
                                                            <HipNumberTableCell numberFormat="0.00"/>
                                                        </tableCell>
                                                    </HipTableColumn>
                                                    <HipTableColumn propertyName="gbCode" prefWidth="100" text="国家编码"  >
                                                        <tableCell>
                                                            <HipTableTextCell />
                                                        </tableCell>
                                                    </HipTableColumn>
                                                    <!--                                    <HipTableColumn propertyName="effectiveLowDate" prefWidth="120.0" text="启用时间" >
                                                        <tableCell>
                                                            <HipDataTimeTableCell dateFormat="yyyy-MM-dd"/>
                                                        </tableCell>
                                                    </HipTableColumn>-->
                                                    <HipTableColumn editable="false" prefWidth="65" text="操作">
                                                        <tableCell>
                                                            <HipTableButtonCell>
                                                                <buttonList>
                                                                    <ArrayList>
                                                                        <HipButton text="删除" onAction="#deletePriceCommand"/>
                                                                    </ArrayList>
                                                                </buttonList> 
                                                            </HipTableButtonCell> 
                                                        </tableCell>
                                                    </HipTableColumn>
                                                </columns>
                                            </HipTableView>
                                        </children>
                                    </StackPane>
                                </center>
                            </BorderPane>
                        </center>
                    </BorderPane>
                </center>
            </BorderPane>
            <BorderPane fx:id="addPricePane" maxHeight="-Infinity" styleClass="service-item-dialog" prefHeight="100.0" prefWidth="100.0" translateY="-30.0" StackPane.alignment="TOP_CENTER">
                <top>
                    <BorderPane styleClass="control-bar-pane">
                        <left>
                            <Label text="【价表项目一览表】" prefHeight="48" styleClass="table-title-label"/>
                        </left>
                        <right>
                            <HBox alignment="CENTER_RIGHT">
                                <HipButton mnemonicParsing="false" text="添加" onAction="#hideAddPriceCommand" styleClass="next-button" >
                                    <graphic>
                                        <ImageView pickOnBounds="true" preserveRatio="true" />
                                    </graphic>
                                </HipButton>
                            </HBox>
                        </right>
                    </BorderPane>
                </top>
            </BorderPane>
            
            <BorderPane fx:id="addOrgPane" maxHeight="-Infinity" styleClass="service-item-dialog" prefHeight="100.0" prefWidth="100.0" translateY="-30.0" StackPane.alignment="TOP_CENTER">
                <top>
                    <BorderPane styleClass="control-bar-pane">
                        <left>
                            <Label text="【多执行科室】" prefHeight="48" styleClass="table-title-label"/>
                        </left>
                        <right>
                            <HBox alignment="CENTER_RIGHT">
                                <HipButton mnemonicParsing="false" text="添加" onAction="#hideAddOrgCommand" styleClass="next-button" >
                                    <graphic>
                                        <ImageView pickOnBounds="true" preserveRatio="true" />
                                    </graphic>
                                </HipButton>
                            </HBox>
                        </right>
                    </BorderPane>
                </top>
            </BorderPane>

        </children>
    </StackPane>
</SplitPane>
